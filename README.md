# AI Image generator

This app was built using MERN Stack. Initially I planned on using DALL-E AI for image generation but the free tier was not good enough, So I switched to open source model. The images are generated by open-source text-to-image models available in https://huggingface.co. You can do atmost 1000 requests on serverless api per day for free (you can subscribe to the pro version for higher rate limits).

## To get the code working on your machine:

1. Run : `npm run build`
2. Create a .env file at the project's root directory. Add the following variables:
  - MONGO_URI - This should contain your connection string
  - PORT  - If you want your app run on a specific port.
  - HUGGINGFACE_API_KEY - Get your Access Token (API key) from https://huggingface.co
  - CLOUD_NAME - Cloudinary cloud name.
  - CLOUD_API_KEY - cloudinary api key
  - CLOUD_API_SECRET - cloudinary api secret
3. Run : `npm start`

**NOTE** In case you come across an error: "'NODE_ENV' is not recognized as an internal or external command, operable program or batch file". 
  - Replace the "scripts" field in package.json with below code:
  ``` js
      /// For Testing The Production locally NOT FOR DEPLOYMENT
      "scripts": {
        "start": "SET NODE_ENV=production && node server/index.js",
        "build": " npm install && npm install --prefix client && npm run build --prefix client",
        "start:server": "SET NODE_ENV=development && nodemon ./server/index.js",
        "test": "echo \"Error: no test specified\" && exit 1"
      }
  ```
  - Also In the ./server/index.js file replace the 27th line with the below code:
  ``` js 
  if(process.env.NODE_ENV === "production "){
  ```
This is done because Windows fails to set the NODE_ENV as an environment variable without SET keyword. Also when setting using the SET keyword in the scripts fied in package.json file, the trailing space after the word "production" is taken into account.